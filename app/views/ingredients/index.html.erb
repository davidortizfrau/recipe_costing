<h1 class="page-header">
  Ingredients 
  <%= link_to 'New Ingredient', new_ingredient_path, class: "btn btn-default pull-right" %>
  <% if current_user.ingredients.count == 0 %>
    <span class="glyphicon glyphicon-arrow-up"></span>
  <% end %>
</h1>

<div class="row">

  <% @categories.each do |category| %>
    
    <% if category.ingredients.any? %>
      <div class="col-md-6">
        <div class="panel panel-primary">
          <div class="panel-heading"><%= category.name %></div>
          <div class="panel-body">
            <div class="table-responsive">
              <table class="table table-striped table-condensed">
                  
                  <thead> 
                    <tr>
                      <th>Name</th>
                      <th>Price / Unit</th>
                      <th>Yield</th>
                      <th>Oz/Cup</th>
                    </tr>
                  </thead>
                    
                <% category.ingredients.each do |ingredient| %>
                  
                  <tr>
                    <td><%= link_to ingredient.name, edit_ingredient_path(ingredient) %></td>

                    <% if ingredient.price %>
                      <td><%= number_to_currency(ingredient.price) %> / <%= ingredient.unit %></td>
                    <% else %>
                      <td>-</td>
                    <% end %>

                    <% if ingredient.yield %>
                      <td><%= number_to_percentage(ingredient.yield, options = { precision: 0}) %></td>
                    <% else %>
                      <td>-</td>
                    <% end %>
                    
                    <% if ingredient.ounces_per_cup %>
                      <td><%= ingredient.ounces_per_cup %> oz</td>
                    <% else %>
                      <td>-</td>
                    <% end %>
                  </tr>
                <% end %>
    
              </table>
            </div>
          </div>
        </div>
      </div>
    <% end %>           
  <% end %>
</div>



